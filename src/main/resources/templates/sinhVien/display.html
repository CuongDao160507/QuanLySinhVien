<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quan ly sinh vien</title>

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">

    <h1 class="text-center mb-4">Quan ly sinh vien</h1>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <form action="/sinh-vien/add" method="post" th:object="${sv}">

                <div class="mb-3">
                    <label class="form-label">Ma sinh vien:</label>
                    <input type="text" class="form-control" th:field="*{maSinhVien}">
                    <i class="text-danger small" th:errors="*{maSinhVien}"></i>
                </div>

                <div class="mb-3">
                    <label class="form-label">Ho ten:</label>
                    <input type="text" class="form-control" th:field="*{hoTen}">
                    <i class="text-danger small" th:errors="*{hoTen}"></i>
                </div>

                <div class="mb-3">
                    <label class="form-label d-block">Gioi tinh:</label>
                    <div class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" th:field="*{gioiTinh}" th:value="true">
                        <label class="form-check-label">Nam</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" th:field="*{gioiTinh}" th:value="false">
                        <label class="form-check-label">Nu</label>
                    </div>
                    <br>
                    <i class="text-danger small" th:errors="*{gioiTinh}"></i>
                </div>

                <div class="mb-3">
                    <label class="form-label">GPA:</label>
                    <input type="number" class="form-control" th:field="*{gpa}">
                    <i class="text-danger small" th:errors="*{gpa}"></i>
                </div>

                <div class="mb-3">
                    <label class="form-label d-block">Trang thai:</label>
                    <div class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" th:field="*{trangThai}" th:value="true">
                        <label class="form-check-label">Dang hoc</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" class="form-check-input" th:field="*{trangThai}" th:value="false">
                        <label class="form-check-label">Da tot nghiep</label>
                    </div>
                    <br>
                    <i class="text-danger small" th:errors="*{trangThai}"></i>
                </div>

                <div class="mb-3">
                    <label class="form-label">Ten lop hoc:</label>
                    <select class="form-select" th:field="*{lopHoc}">
                        <option th:each="lh : ${listLH}" th:value="${lh.id}" th:label="${lh.tenLopHoc}"></option>
                    </select>
                    <i class="text-danger small" th:errors="*{lopHoc}"></i>
                </div>

                <button class="btn btn-primary w-100">Add</button>
            </form>
        </div>
    </div>

    <!-- TABLE -->
    <div class="card shadow-sm">
        <table class="table table-bordered table-striped mb-0">
            <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Ma sinh vien</th>
                <th>Ho ten</th>
                <th>Gioi tinh</th>
                <th>GPA</th>
                <th>Trang thai</th>
                <th>Ten lop hoc</th>
                <th>Hanh dong</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="sv : ${sinhVienPage.getContent()}" th:object="${sv}">
                <td th:text="*{id}"></td>
                <td th:text="*{maSinhVien}"></td>
                <td th:text="*{hoTen}"></td>
                <td th:text="*{gioiTinh == true ? 'Nam' : 'Nu'}"></td>
                <td th:text="*{gpa}"></td>
                <td th:text="*{trangThai == true ? 'Dang hoc' : 'Da tot nghiep'}"></td>
                <td th:text="*{lopHoc.tenLopHoc}"></td>
                <td>
                    <a class="btn btn-sm btn-danger me-1" th:href="@{|/sinh-vien/delete/*{id}|}">Delete</a>
                    <a class="btn btn-sm btn-warning" th:href="@{|/sinh-vien/view-update/*{id}|}">View Update</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- PAGINATION -->
    <div class="mt-3" th:if="${sinhVienPage.totalPages > 1}">
        <span class="fw-bold">Trang: </span>
        <span th:each="page : ${#numbers.sequence(0, sinhVienPage.totalPages - 1)}">
            <a class="btn btn-outline-primary btn-sm me-1"
               th:href="@{'/sinh-vien/display?page=' + ${page} }"
               th:text="${page + 1}"></a>
        </span>
    </div>

</div>

</body>
</html>
